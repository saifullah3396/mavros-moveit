<launch>
    <arg name="world" default="$(find px4)/Tools/sitl_gazebo/worlds/small_indoor_scenario.world" />
    <arg name="gui" default="false"/>
    <arg name="vehicle" default="iris_rplidar"/>

    <!-- Launch PX4 Moveit -->
    <include file="$(find mavros_moveit)/launch/px4_moveit.launch">
        <arg name="gui" value="$(arg gui)"/>
        <arg name="world" value="$(arg world)" />
        <arg name="vehicle" value="$(arg vehicle)"/>
    </include>

    <node pkg="tf" type="static_transform_publisher" name="rplidar_link_broadcaster_0" args="0 0 0.1 0 0 0 base_link /rplidar_link 10" />

    <!-- Start gmapping for map creation -->
    <!--<include file="$(find mavros_moveit_avoidance)/launch/mavros_gmapping.launch"/>-->
    <node name="launch_gmapping" pkg="mavros_moveit_avoidance" type="launch_gmapping"/>

    <!-- Start laser scan to point cloud generation -->
    <include file="$(find mavros_moveit_avoidance)/launch/laser_to_pc.launch"/>
</launch>